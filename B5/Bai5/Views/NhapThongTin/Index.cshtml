@model Bai5.Models.NhanVien
@{
    ViewBag.Title = "Index";
}

<style>
    .preview {
        width: 100px;
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .mt-3 {
        margin: 1rem;
    }
</style>

<h2>Index</h2>

<h1>STAFF INFORMATION</h1>

<form action="" method="post" enctype="multipart/form-data">
    <div class="mt-3">
        <label>Staff id:</label>
        <input class="form-control" type="text" name="id" value="@ViewBag.Id" />
    </div>
    <div class="mt-3">
        <label>Staff Name:</label>
        <input class="form-control" type="text" name="name" value="@ViewBag.Name" />
    </div>
    <div class="mt-3">
        <label>Date Of Birth:</label>
        <input class="form-control" type="date" name="birthday" value="@ViewBag.Birthday" />
    </div>
    <div class="mt-3">
        <label>Salary:</label>
        <input class="form-control" type="text" name="salary" value="@ViewBag.Salary" />
    </div>
    <div class="mt-3">
        <label>Image:</label>
        <input class="form-control avatar" type="file" name="avatar" value="" />
        <p>@ViewBag.UploadMessage</p>
    </div>
    <div class="mt-3">
        <div class="form-control preview">
            <input width="100%" height="auto" class="" type="image" src="@ViewBag.Avatar" />
        </div>
    </div>
    <div class="mt-3">
        <button class="btn" type="submit" formaction="/NhapThongTin/Save">Save</button>
        <button class="btn" formaction="/NhapThongTin/Open">Open</button>
    </div>
    <p>@ViewBag.SaveMessage</p>
    @*<p>@ViewBag.OpenMessage</p>*@
</form>

<script language="javascript">
    const avatar = document.querySelector(".avatar");
    const preview = document.querySelector(".preview input");
    avatar.addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
            const fileUrl = URL.createObjectURL(file);
            preview.src = fileUrl;
        }
    });
</script>